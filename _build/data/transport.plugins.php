<?phpfunction getFilePackagesContent($filename) {    $o = file_get_contents($filename);    $o = trim(str_replace(array('<?php','<?','?>'),'',$o));    return $o;}$plugin = $modx->newObject('modPlugin');$plugin -> fromArray(array(    'id' => 1,    'category' => 0,    'name' => PKG_NAME,    'description' => 'Plugin for auto edit pictures with PhpThumbOf snippet on download.',    'plugincode' => getFilePackagesContent($sources['elements'].'plugins/plugin.resizeimageonupload.php'),),'',true,true);// $properties = include $sources['data'].'properties/properties.resizeimageonupload.php';// вариант при получении параметров из экспортного файла$properties = file_get_contents($sources['data'].'properties/properties.resizeimageonupload.js');$plugin->setProperties(json_decode($properties,true)); // принимает только массив, вполне подходят экспортные параметры в UTF8-without BOMunset($properties);return $plugin;